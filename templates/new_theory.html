{% extends "index.html" %}

{% block content %}
<center>
    <div class="width-45">
        <form action="" method="POST" class="form" enctype=multipart/form-data>
            <h1 style="padding-top: 1vh;">Загрузить теорию</h1>
            {{ form.hidden_tag() }}
            <p>
                {{ form.title.label }}<br>
                {{ form.title(class="form-control") }}<br>
                {% for error in form.title.errors %}
            <p class="alert alert-danger" role="alert">
                {{ error }}
            </p>
            {% endfor %}
            </p>
            <p>
                {{ form.description.label }}<br>
                {{ form.description(class="form-control") }}<br>
                {% for error in form.description.errors %}
            <p class="alert alert-danger" role="alert">
                {{ error }}
            </p>
            {% endfor %}
            </p>

            <div class="form-group">
                <p>
                    {{ form.picture.label }}<br>
                    <input type="file" class="form-control-file" id="picture" name="picture">
                    {% for error in form.picture.errors %}
                <p class="alert alert-danger" role="alert">
                    {{ error }}
                </p>
                {% endfor %}
                </p>
            </div>

            <div class="form-group">
                <p>
                    {{ form.video.label }}<br>
                    <input type="file" class="form-control-file" id="video" name="video">
                    {% for error in form.video.errors %}
                <p class="alert alert-danger" role="alert">
                    {{ error }}
                </p>
                {% endfor %}
                </p>
            </div>
            <div class="form-group">
                <p>
                    Выдать доступ:<br>
                    {% for group in unique_groups.keys() %}
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="group" value="{{ group }}" id="{{ group }}">
                    <label class="form-check-label" for="{{ group }}">
                        Группа {{ group }} ({{", ".join(unique_groups[group])}})
                    </label>
                </div>
                {% endfor %}
                </p>
            </div>

            <p>{{ form.submit(type="submit", class="btn btn-primary") }}</p>
            {{message}}
        </form>
    </div>
</center>
{% endblock %}
